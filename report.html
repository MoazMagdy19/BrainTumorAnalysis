<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MRI Report â€” Single File</title>
  <style>
    :root{
      --blue:#2563eb;--muted:#6b7280;--bg:#f6f8fb;--card:#fff;--danger:#dc2626;--good:#16a34a;
      --max:980px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:#0f172a;line-height:1.45}
    .wrap{max-width:var(--max);margin:28px auto;padding:18px}
    .actions{display:flex;gap:10px;justify-content:flex-end;margin-bottom:12px}
    .btn{border:0;padding:10px 14px;border-radius:999px;cursor:pointer;font-weight:700;display:inline-flex;align-items:center;gap:8px}
    .btn.outline{background:transparent;border:1px solid #e6eefb;color:var(--blue)}
    .btn.primary{background:var(--blue);color:#fff}
    .card{background:var(--card);border-radius:12px;padding:20px;box-shadow:0 14px 36px rgba(2,6,23,0.06)}
    .header{text-align:center;margin-bottom:18px;border-bottom:1px solid #f1f5f9;padding-bottom:14px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
    @media(max-width:820px){ .grid{grid-template-columns:1fr} .actions{justify-content:center} }
    .info-row{display:flex;align-items:flex-start;gap:10px}
    .meta-title{color:var(--muted);font-size:13px;margin-bottom:6px}
    .img-wrap{position:relative;border-radius:10px;overflow:hidden;background:#111;padding-top:56.25%}
    .img-wrap img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:block}
    .highlight{position:absolute;left:50%;top:33%;transform:translate(-50%,-50%);pointer-events:none}
    .pulse{position:relative;width:84px;height:84px}
    .pulse .blur{position:absolute;inset:0;border-radius:999px;background:#ef4444;filter:blur(18px);opacity:0.35}
    .pulse .ring{position:absolute;inset:0;border-radius:999px;border:4px solid #ef4444;box-sizing:border-box}
    .badge{position:absolute;top:10px;right:10px;background:rgba(0,0,0,0.65);color:#fff;padding:8px 10px;border-radius:10px;font-weight:700}
    .diagnosis-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    @media(max-width:820px){ .diagnosis-grid{grid-template-columns:1fr 1fr} }
    .diag-card{background:#fff;border-radius:10px;padding:12px}
    .notes{background:#f8fafc;border-radius:10px;padding:12px;margin-bottom:16px}
    .disclaimer{background:#fffbeb;border:1px solid #fef08a;border-radius:10px;padding:12px;color:#92400e}
    .footer{text-align:center;color:var(--muted);margin-top:18px;font-size:14px}
    @media print{
      body{background:white}
      .actions{display:none}
      .wrap{box-shadow:none;margin:0;padding:0}
      .card{box-shadow:none;border-radius:0;padding:0}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="actions no-print">
      <button class="btn outline" id="printBtn" title="Print">ðŸ–¨ Print</button>
      <button class="btn primary" id="downloadBtn" title="Download report">â¬‡ Download</button>
    </div>

    <div class="card" id="reportCard" role="article" aria-labelledby="reportTitle">
      <header class="header">
        <h1 id="reportTitle" style="color:var(--blue);margin:0 0 6px">Brain</h1>
        <div class="meta-title">MRI Scan Analysis Report</div>
      </header>

      <section class="grid" aria-labelledby="patient-info">
        <div>
          <div class="meta-title">Patient Name</div>
          <div id="patientName" style="font-weight:700">John Doe</div>
        </div>
        <div>
          <div class="meta-title">Scan Date</div>
          <div id="scanDate" style="font-weight:700">November 16, 2025</div>
        </div>
      </section>

      <section style="margin-bottom:16px;">
        <h3 style="margin:0 0 8px">MRI Scan Image</h3>
        <div class="img-wrap" id="imgWrap">
          <img id="scanImg" alt="MRI scan" src="" />
          <div class="highlight" aria-hidden="true">
            <div class="pulse"><div class="blur"></div><div class="ring"></div></div>
          </div>
          <div class="badge" id="locationBadge">Frontal Lobe</div>
        </div>
      </section>

      <section style="margin:16px 0">
        <div class="diagnosis-grid" id="diagnosisGrid">
          <div class="diag-card">
            <div class="meta-title">Tumor Type</div>
            <div id="tumorType" style="font-weight:800">Benign</div>
          </div>

          <div class="diag-card">
            <div class="meta-title">Location</div>
            <div id="locationText" style="font-weight:700">Frontal Lobe</div>
          </div>

          <div class="diag-card">
            <div class="meta-title">Size</div>
            <div id="sizeText" style="font-weight:700">2.3 cm</div>
          </div>

          <div class="diag-card">
            <div class="meta-title">Confidence</div>
            <div id="confidenceText" style="font-weight:700;color:var(--blue)">94%</div>
          </div>

          <div class="diag-card">
            <div class="meta-title">Cells Affected</div>
            <div id="cellsText" style="font-weight:700;color:var(--good)">No</div>
          </div>

          <div class="diag-card">
            <div class="meta-title">Report ID</div>
            <div id="reportId" style="font-weight:700">#1</div>
          </div>
        </div>
      </section>

      <section>
        <h3 style="margin:0 0 8px">Clinical Notes</h3>
        <div class="notes" id="notesText">
          The detected tumor shows characteristics consistent with a benign growth. The tumor is well-defined with clear margins and shows no signs of invasion into surrounding tissue. Minimal mass effect is observed. Recommend follow-up scan in 6 months to monitor for any changes in size or characteristics.
        </div>
      </section>

      <section style="margin-top:8px">
        <div class="disclaimer"><strong>Important:</strong> This report is generated by an AI system and should be used as a supplementary tool only. Always consult with a qualified healthcare professional for proper diagnosis and treatment recommendations.</div>
      </section>

      <div class="footer">Generated by Brain AI Platform â€¢ <span id="footerDate">November 16, 2025</span></div>
    </div>
  </div>

<script>
(function(){
  const params = new URLSearchParams(location.search);
  const id = params.get('id') || '1';

  const report = {
    id: id,
    patientName: 'John Doe',
    scanDate: 'November 16, 2025',
    tumorType: 'Benign',
    location: 'Frontal Lobe',
    size: '2.3 cm',
    confidence: 94,
    cellsAffected: false,
    notes: `The detected tumor shows characteristics consistent with a benign growth. The tumor is well-defined with clear margins and shows no signs of invasion into surrounding tissue. Minimal mass effect is observed. Recommend follow-up scan in 6 months to monitor for any changes in size or characteristics.`,
    imageUrl: 'https://images.unsplash.com/photo-1758691463569-66de91d76452?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080'
  };

  const scanImg = document.getElementById('scanImg');
  const locationBadge = document.getElementById('locationBadge');
  const patientName = document.getElementById('patientName');
  const scanDate = document.getElementById('scanDate');
  const tumorType = document.getElementById('tumorType');
  const locationText = document.getElementById('locationText');
  const sizeText = document.getElementById('sizeText');
  const confidenceText = document.getElementById('confidenceText');
  const cellsText = document.getElementById('cellsText');
  const reportId = document.getElementById('reportId');
  const notesText = document.getElementById('notesText');
  const footerDate = document.getElementById('footerDate');

  function render(){
    scanImg.src = report.imageUrl;
    locationBadge.textContent = report.location;
    patientName.textContent = report.patientName;
    scanDate.textContent = report.scanDate;
    tumorType.textContent = report.tumorType;
    locationText.textContent = report.location;
    sizeText.textContent = report.size;
    confidenceText.textContent = report.confidence + '%';
    cellsText.textContent = report.cellsAffected ? 'Yes' : 'No';
    cellsText.style.color = report.cellsAffected ? 'var(--danger)' : 'var(--good)';
    reportId.textContent = '#' + report.id;
    notesText.textContent = report.notes;
    footerDate.textContent = report.scanDate;
  }

  document.getElementById('printBtn').addEventListener('click', ()=> window.print());

  document.getElementById('downloadBtn').addEventListener('click', ()=> {
    const now = new Date().toISOString();
    const lines = [
      'Brain MRI Analysis Report',
      `Report ID: ${report.id}`,
      `Generated: ${now}`,
      '----------------------------------------',
      `Patient Name: ${report.patientName}`,
      `Scan Date: ${report.scanDate}`,
      `Tumor Type: ${report.tumorType}`,
      `Location: ${report.location}`,
      `Size: ${report.size}`,
      `Confidence: ${report.confidence}%`,
      `Cells Affected: ${report.cellsAffected ? 'Yes' : 'No'}`,
      '',
      'Clinical Notes:',
      report.notes,
      '',
      `Image (URL): ${report.imageUrl}`,
      '',
      'Notes: This is a simulated report for demo purposes. Consult a healthcare professional for clinical decisions.'
    ];
    const blob = new Blob([lines.join('\\n')], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `brain-report-${report.id}.txt`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  });

  scanImg.addEventListener('error', ()=> {
    scanImg.src = '';
    scanImg.alt = 'Image unavailable';
  });

  render();
})();
</script>
</body>
</html>
